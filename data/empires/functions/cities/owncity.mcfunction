execute as @a[team=aqua] at @s positioned ~-80 ~ ~-80 if entity @e[tag=city,team=aqua,dx=160,dz=160,y=0,dy=255,sort=nearest,limit=1] run tag @s add owncity
execute as @a[team=black] at @s positioned ~-80 ~ ~-80 if entity @e[tag=city,team=black,dx=160,dz=160,y=0,dy=255,sort=nearest,limit=1] run tag @s add owncity
execute as @a[team=blue] at @s positioned ~-80 ~ ~-80 if entity @e[tag=city,team=blue,dx=160,dz=160,y=0,dy=255,sort=nearest,limit=1] run tag @s add owncity
execute as @a[team=darkaqua] at @s positioned ~-80 ~ ~-80 if entity @e[tag=city,team=darkaqua,dx=160,dz=160,y=0,dy=255,sort=nearest,limit=1] run tag @s add owncity
execute as @a[team=darkblue] at @s positioned ~-80 ~ ~-80 if entity @e[tag=city,team=darkblue,dx=160,dz=160,y=0,dy=255,sort=nearest,limit=1] run tag @s add owncity
execute as @a[team=darkgray] at @s positioned ~-80 ~ ~-80 if entity @e[tag=city,team=darkgray,dx=160,dz=160,y=0,dy=255,sort=nearest,limit=1] run tag @s add owncity
execute as @a[team=darkgreen] at @s positioned ~-80 ~ ~-80 if entity @e[tag=city,team=darkgreen,dx=160,dz=160,y=0,dy=255,sort=nearest,limit=1] run tag @s add owncity
execute as @a[team=darkpurple] at @s positioned ~-80 ~ ~-80 if entity @e[tag=city,team=darkpurple,dx=160,dz=160,y=0,dy=255,sort=nearest,limit=1] run tag @s add owncity
execute as @a[team=darkred] at @s positioned ~-80 ~ ~-80 if entity @e[tag=city,team=darkred,dx=160,dz=160,y=0,dy=255,sort=nearest,limit=1] run tag @s add owncity
execute as @a[team=gold] at @s positioned ~-80 ~ ~-80 if entity @e[tag=city,team=gold,dx=160,dz=160,y=0,dy=255,sort=nearest,limit=1] run tag @s add owncity
execute as @a[team=gray] at @s positioned ~-80 ~ ~-80 if entity @e[tag=city,team=gray,dx=160,dz=160,y=0,dy=255,sort=nearest,limit=1] run tag @s add owncity
execute as @a[team=green] at @s positioned ~-80 ~ ~-80 if entity @e[tag=city,team=green,dx=160,dz=160,y=0,dy=255,sort=nearest,limit=1] run tag @s add owncity
execute as @a[team=lightpurple] at @s positioned ~-80 ~ ~-80 if entity @e[tag=city,team=lightpurple,dx=160,dz=160,y=0,dy=255,sort=nearest,limit=1] run tag @s add owncity
execute as @a[team=red] at @s positioned ~-80 ~ ~-80 if entity @e[tag=city,team=red,dx=160,dz=160,y=0,dy=255,sort=nearest,limit=1] run tag @s add owncity
execute as @a[team=yellow] at @s positioned ~-80 ~ ~-80 if entity @e[tag=city,team=yellow,dx=160,dz=160,y=0,dy=255,sort=nearest,limit=1] run tag @s add owncity

execute as @a[team=aqua] at @s positioned ~-80 ~ ~-80 unless entity @e[tag=city,team=aqua,dx=160,dz=160,y=0,dy=255,sort=nearest,limit=1] run tag @s remove owncity
execute as @a[team=black] at @s positioned ~-80 ~ ~-80 unless entity @e[tag=city,team=black,dx=160,dz=160,y=0,dy=255,sort=nearest,limit=1] run tag @s remove owncity
execute as @a[team=blue] at @s positioned ~-80 ~ ~-80 unless entity @e[tag=city,team=blue,dx=160,dz=160,y=0,dy=255,sort=nearest,limit=1] run tag @s remove owncity
execute as @a[team=darkaqua] at @s positioned ~-80 ~ ~-80 unless entity @e[tag=city,team=darkaqua,dx=160,dz=160,y=0,dy=255,sort=nearest,limit=1] run tag @s remove owncity
execute as @a[team=darkblue] at @s positioned ~-80 ~ ~-80 unless entity @e[tag=city,team=darkblue,dx=160,dz=160,y=0,dy=255,sort=nearest,limit=1] run tag @s remove owncity
execute as @a[team=darkgray] at @s positioned ~-80 ~ ~-80 unless entity @e[tag=city,team=darkgray,dx=160,dz=160,y=0,dy=255,sort=nearest,limit=1] run tag @s remove owncity
execute as @a[team=darkgreen] at @s positioned ~-80 ~ ~-80 unless entity @e[tag=city,team=darkgreen,dx=160,dz=160,y=0,dy=255,sort=nearest,limit=1] run tag @s remove owncity
execute as @a[team=darkpurple] at @s positioned ~-80 ~ ~-80 unless entity @e[tag=city,team=darkpurple,dx=160,dz=160,y=0,dy=255,sort=nearest,limit=1] run tag @s remove owncity
execute as @a[team=darkred] at @s positioned ~-80 ~ ~-80 unless entity @e[tag=city,team=darkred,dx=160,dz=160,y=0,dy=255,sort=nearest,limit=1] run tag @s remove owncity
execute as @a[team=gold] at @s positioned ~-80 ~ ~-80 unless entity @e[tag=city,team=gold,dx=160,dz=160,y=0,dy=255,sort=nearest,limit=1] run tag @s remove owncity
execute as @a[team=gray] at @s positioned ~-80 ~ ~-80 unless entity @e[tag=city,team=gray,dx=160,dz=160,y=0,dy=255,sort=nearest,limit=1] run tag @s remove owncity
execute as @a[team=green] at @s positioned ~-80 ~ ~-80 unless entity @e[tag=city,team=green,dx=160,dz=160,y=0,dy=255,sort=nearest,limit=1] run tag @s remove owncity
execute as @a[team=lightpurple] at @s positioned ~-80 ~ ~-80 unless entity @e[tag=city,team=lightpurple,dx=160,dz=160,y=0,dy=255,sort=nearest,limit=1] run tag @s remove owncity
execute as @a[team=red] at @s positioned ~-80 ~ ~-80 unless entity @e[tag=city,team=red,dx=160,dz=160,y=0,dy=255,sort=nearest,limit=1] run tag @s remove owncity
execute as @a[team=yellow] at @s positioned ~-80 ~ ~-80 unless entity @e[tag=city,team=yellow,dx=160,dz=160,y=0,dy=255,sort=nearest,limit=1] run tag @s remove owncity
